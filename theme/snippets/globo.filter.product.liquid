{% comment %}Do not edit this file{% endcomment %}
{% raw %}
  {% assign swatch_options = 'Size' | downcase | replace: ', ', ',' | split: ","  %}
  {% assign images_count = product.images | size %}
  {% assign variants_count = product.variants | size %}
  {% assign options_count   = product.options | size %}
  {% assign featured_image = 'https://cdn.shopify.com/s/images/themes/product-1.png' %}
  {% assign downcase_type = product.product_type | downcase %}
  {% if product.featured_image %}
    {% assign featured_image = product.featured_image.src %}
  {% endif %}

      {% assign on_sale                       = '{% endraw %}{{ 'product.labels.on_sale' | t }}{% raw %}' %}
      {% assign sold_out                      = '{% endraw %}{{ 'product.labels.sold_out' | t }}{% raw %}' %}

      {% assign product_image_size            = '{% endraw %}{{settings.product_image_size}}{% raw %}' %}
      {% assign product_show_secondary_image  = {% endraw %}{{settings.product_show_secondary_image}}{% raw %} %}
      {% assign product_info_alignment        = '{% endraw %}{{settings.product_info_alignment}}{% raw %}' %}
      {% assign product_show_price_on_hover   = {% endraw %}{{settings.product_show_price_on_hover}}{% raw %} %}
      {% assign show_color_swatch             = true %}

      <div class="ProductItem Grid__Cell spf-col-xl-4 spf-col-lg-4 spf-col-md-6 spf-col-sm-6 spf-col-6">
        <div class="ProductItem__Wrapper">
          {% if product_image_size == 'natural' %}
            {% assign use_natural_size = true %}
          {% else %}
            {% assign use_natural_size = false %}
          {% endif %}

          {% if product.featured_image %}
            {% assign maxwidth = product.featured_image.width %}
            {% assign image_ratio = product.featured_image.aspect_ratio %}
          {% else %}
            {% assign maxwidth = 500px %}
            {% assign image_ratio = 100 %}
          {% endif %}

          <a href="{{ product.url }}" class="ProductItem__ImageWrapper {% if product_show_secondary_image and images_count > 1 %}ProductItem__ImageWrapper--withAlternateImage{% endif %}">
            <div class="AspectRatio AspectRatio--{% if use_natural_size %}withFallback{% else %}{{ product_image_size }}{% endif %}"
              style="max-width: {{maxwidth}}px; {% if use_natural_size %}padding-bottom: {{ image_ratio }}%;{% endif %} --aspect-ratio: {{ image_ratio }}">
              {% if product_show_secondary_image and images_count > 1 %}
                <img class="ProductItem__Image ProductItem__Image--alternate Image--lazyLoad Image--fadeIn" data-src="{{ product.images[1].src }}" alt="{{ product.images[1].alt | escape }}">
                <!--img class="ProductItem__Image ProductItem__Image--alternate" src="{{ product.images[1].src | img_url: '500x500' }}" alt="{{ product.title | escape }}"-->
              {% endif %}
              {% if product.featured_image %}
              <img class="ProductItem__Image Image--lazyLoad Image--fadeIn" data-src="{{ product.featured_image.src | img_url: '600x' }}" alt="{{ product.featured_image.alt | escape }}">
              {% else %}
              <img class="ProductItem__Image" src="https://cdn.shopify.com/s/images/themes/product-1.png" alt="{{ product.title | escape }}">
              {% endif %}
              <span class="Image__Loader"></span>
            </div>
          </a>

          {%comment%}
          {% capture product_labels %}
            {% assign has_tag = false %}
            {% for tag in product.tags %}
              {% if false and tag contains '__label' %}
                {% assign has_tag = true %}
                <span class="ProductItem__Label Heading Text--subdued">{{ tag | split: '__label:' | last }}</span>
              {% endif %}
            {% endfor %}

            {% if product.available %}
              {% if product.compare_at_price > product.price %}
                <span class="ProductItem__Label Heading Text--subdued">{{ on_sale }}</span>
              {% endif %}
            {% else %}
              <span class="ProductItem__Label Heading Text--subdued">{{ sold_out }}</span>
            {% endif %}
          {% endcapture %}<p class="ProductItem__Tag SoldOut h4">Sold Out</p>

          {% if product_labels != blank %}<div class="ProductItem__LabelList">{{ product_labels }}</div>{% endif %}
          {%endcomment%}

          <div class="ProductItem__Info ProductItem__Info--{{ product_info_alignment }}">
            {% if product.available %}
              {% if product.tags contains 'na' %}
                <p class="ProductItem__Tag NewArrival h4"><img src="{{ 'logo-mark-mi-golondrina.svg' | asset_url }}" width="14" alt=""> New Arrival</p>
              {% elsif product.tags contains 'preorder' %}
                <p class="ProductItem__Tag Preorder h4"><img src="{{ 'icon-lock.svg' | asset_url }}" width="14" alt="">  Preorder</p>
              {% elsif product.compare_at_price > product.price %}
                <p class="ProductItem__Tag OnSale h4">On Sale</p>
              {% endif %}
            {% else %}
              <p class="ProductItem__Tag SoldOut h4">Sold Out</p>
            {% endif %}

            <p class="ProductItem__Vendor Heading h4">{{ product.vendor }}</h3>
            <h2 class="ProductItem__Title Heading h3"><a href="{{ product.url }}">{{ product.title }}</a></h2>
            {% if show_color_swatch %}
              {% assign color_swatch_list = '' %}
              {% capture color_swatch %}
                {% capture color_name %}collection-template-{{ product.id }}-{% increment color_name %}{% endcapture %}
                {% for option in product.options %}
                  {% assign downcased_option = option.name | downcase %}
                  {% if downcased_option == 'color' or downcased_option == 'colour' or downcased_option == 'couleur' %}
                    {% assign variant_option = 'option' | append: forloop.index %}
                    {% for value in option.values %}
                      {% assign downcased_value = value | downcase %}
                      {% capture color_id %}collection-template-{{ product.id }}-{% increment color_index %}{% endcapture %}

                      {% assign variant_for_value = false %}
                      {% for variant in product.variants %}
                      {% if variant[variant_option] == value and variant_for_value == false %}
                      {% assign variant_for_value = variant %}
                      {% endif %}
                      {% endfor %}

                      <div class="ProductItem__ColorSwatchItem">
                        <input class="ColorSwatch__Radio" type="radio" data-variant-url="{{ product.url }}?variant={{ variant_for_value.id }}{% if variant_for_value.image %}#Image{{ variant_for_value.image.id }}{% endif %}" name="{{ color_name }}" id="{{ color_id }}" value="{{ value | escape }}">
                        <label class="ColorSwatch ColorSwatch--small" for="{{ color_id }}" style="background-color: {{ value | replace: ' ', '' | downcase }}; background-image: url('{{ value | handle | append: '.png' | asset_url }}')" title="{{ value | escape }}" data-tooltip="{{ value | escape }}"></label>
                      </div>
                    {% endfor %}
                  {% endif %}
                {% endfor %}
              {% endcapture %}
              {% if color_swatch != blank %}
                {% capture color_swatch_list %}
                  <div class="ProductItem__ColorSwatchList">{{ color_swatch }}</div>
                {% endcapture %}
              {% endif %}
            {% endif %}
            {%comment%}{% if product_show_price_on_hover and color_swatch_list != blank %}{{ color_swatch_list }}{% endif %}{%endcomment%}
            <div class="ProductItem__PriceList {% if product_show_price_on_hover %}ProductItem__PriceList--showOnHover{% endif %} Heading">
              {% if product.compare_at_price > product.price %}
                <span class="ProductItem__Price Price Price--highlight Text--subdued" data-money-convertible><span class="money" data-product-id="{{ product.id }}">{{ product.price | money_without_trailing_zeros }}</span></span>
                <span class="ProductItem__Price Price Price--compareAt Text--subdued" data-money-convertible><span class="bold-compare-at-money" data-product-id="{{ product.id }}">{{ product.compare_at_price | money_without_trailing_zeros }}</span></span>
              {% elsif product.price_varies %}
                {% capture formatted_min_price %}<span data-money-convertible><span class="money" data-product-id="{{ product.id }}">{{ product.price_min | money_without_trailing_zeros }}</span></span>{% endcapture %}
                {% capture formatted_max_price %}<span data-money-convertible><span class="money" data-product-id="{{ product.id }}">{{ product.price_max | money_without_trailing_zeros }}</span></span>{% endcapture %}
                <span class="ProductItem__Price Price Text--subdued">{% endraw %}{{ 'collection.product.from_price_html' | t }}{% raw %}</span>
              {% else %}
                <span class="ProductItem__Price Price Text--subdued" data-money-convertible><span class="money" data-product-id="{{ product.id }}">{{ product.price | money_without_trailing_zeros }}</span></span>
              {% endif %}
            </div>
            {%comment%}{% if product_show_price_on_hover == false and color_swatch_list != blank %}{{ color_swatch_list }}{% endif %}{%endcomment%}

            {% comment %}WARNING: Any changes in the below logic must also be duplicated in assets/algolia_helpers.js.liquid{% endcomment %}

            {% if downcase_type == 'dress' or downcase_type == 'blouse' or downcase_type == 'shirt' or downcase_type == 'adult t-shirt' or downcase_type == 'top' or downcase_type == 'childrens' or downcase_type == 'kids t-shirt' or downcase_type contains 'plus size' or downcase_type == 'skirt' %}
            <div class="ProductItem__SizeList">
              {% if product.tags contains 'sizes:one-size' %}
                <span class="size-one-size">ONE SIZE</span>
              {% elsif downcase_type == 'childrens' and product.tags contains 'bloomers' or product.tags contains 'type-girls-bloomer' %}
                <span class="size-1t {% unless product.tags contains 'sizes:1t' %} disabled{% endunless %}">1T</span>
                <span class="size-2t {% unless product.tags contains 'sizes:2t' %} disabled{% endunless %}">2T</span>
                <span class="size-3t {% unless product.tags contains 'sizes:3t' %} disabled{% endunless %}">3T</span>
              {% elsif downcase_type == 'childrens' and product.tags contains 'girasol' or product.tags contains 'type-girls-girasol' or product.tags contains 'kids-luisa-dress' %}
                <span class="size-1t {% unless product.tags contains 'sizes:1t' %} disabled{% endunless %}">1T</span>
                <span class="size-2t {% unless product.tags contains 'sizes:2t' %} disabled{% endunless %}">2T</span>
                <span class="size-3t {% unless product.tags contains 'sizes:3t' %} disabled{% endunless %}">3T</span>
                <span class="size-4t {% unless product.tags contains 'sizes:4t' %} disabled{% endunless %}">4T</span>
              {% elsif downcase_type == 'childrens' and product.tags contains 'florecita' or product.tags contains 'type-girls-florecita' %}
                <span class="size-4t {% unless product.tags contains 'sizes:4t' %} disabled{% endunless %}">4T</span>
                <span class="size-6y {% unless product.tags contains 'sizes:6y' %} disabled{% endunless %}">6Y</span>
                <span class="size-8y {% unless product.tags contains 'sizes:8y' %} disabled{% endunless %}">8Y</span>
                <span class="size-10y {% unless product.tags contains 'sizes:10y' %} disabled{% endunless %}">10Y</span>
                <span class="size-12y {% unless product.tags contains 'sizes:12y' %} disabled{% endunless %}">12Y</span>
              {% elsif downcase_type == 'kids t-shirt' %}
                <span class="size-4t {% unless product.tags contains 'sizes:4t' %} disabled{% endunless %}">4T</span>
                <span class="size-6y {% unless product.tags contains 'sizes:6y' %} disabled{% endunless %}">6Y</span>
                <span class="size-8y {% unless product.tags contains 'sizes:8y' %} disabled{% endunless %}">8Y</span>
                <span class="size-10y {% unless product.tags contains 'sizes:10y' %} disabled{% endunless %}">10Y</span>
                <span class="size-12y {% unless product.tags contains 'sizes:12y' %} disabled{% endunless %}">12Y</span>
              {% elsif downcase_type contains 'plus size' %}
                <span class="size-1x {% unless product.tags contains 'sizes:1x' %} disabled{% endunless %}">1X</span>
                <span class="size-2x {% unless product.tags contains 'sizes:2x' %} disabled{% endunless %}">2X</span>
              {% else %}
                <span class="size-xs {% unless product.tags contains 'sizes:extra-small' %} disabled{% endunless %}">XS</span>
                <span class="size-s {% unless product.tags contains 'sizes:small' %} disabled{% endunless %}">S</span>
                <span class="size-m {% unless product.tags contains 'sizes:medium' %} disabled{% endunless %}">M</span>
                <span class="size-l {% unless product.tags contains 'sizes:large' %} disabled{% endunless %}">L</span>
                <span class="size-xl {% unless product.tags contains 'sizes:extra-large' %} disabled{% endunless %}">XL</span>
              {% endif %}
            </div>
            {% endif %}
          </div>
        </div>
      </div>
      {% endraw %}
